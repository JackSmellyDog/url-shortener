<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Your are not welcome here</title>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.min.css}"/>
</head>
<body>
<div class="container mt-5">
    <form action="#" method="post" th:action="@{/}">
        <div class="row mt-auto pt-5">
            <div class="col-1">
                <label hidden="hidden" for="longUrl" class="text-secondary">Your Url:</label>
            </div>

            <div class="col-9">
                <input placeholder="Enter the link here" type="text" class="form-control" id="longUrl" name="longUrl"
                       th:value="${longUrl}"/>
            </div>

            <div class="col-2">
                <button class="btn btn-primary btn-block" name="action" th:value="update" type="submit">Shorten URL
                </button>
            </div>
        </div>
    </form>

    <div class="row mt-3" th:if="${shortUrl != null}">
        <div class="col-1">
            <label hidden="hidden" for="shortUrl" class="text-secondary">Short Url:</label>
        </div>

        <div class="col-9">
            <input type="text" readonly="readonly" class="form-control" id="shortUrl" name="shortUrl"
                   th:value="${shortUrl}"/>
        </div>

        <div class="col-2">
            <button class="btn btn-primary btn-block" name="action" th:value="update" onclick="copyToClipboard()"
                    type="submit">Copy
            </button>
        </div>
    </div>

    <div class="row mt-3" th:if="${error != null}">
        <div class="col-1">
            <label hidden="hidden" for="shortUrl" class="text-secondary">Short Url:</label>
        </div>

        <div class="col-9">
            <span class="alert alert-danger" th:text="${error}"></span>
        </div>
    </div>

</div>
<script>
    const copyToClipboard = () => {
        const el = document.getElementById("shortUrl");
        el.select();
        document.execCommand('copy');
    };
</script>

</body>
</html>